---
# Shared config
- hosts:
  - master
  - slave
  roles:
    - docker
    - ssh-keys
    - kubelet
  become: true

- hosts:
  - master
  roles:
    - kubeadm-master
  become: true

- hosts:
  - master
  roles:
    - kubernetes-users

- hosts:
  - slave
  roles:
    - kubeadm-slave

# Extra services
- hosts:
  - master
  roles:
  - kubernetes-services
