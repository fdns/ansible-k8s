---
# Shared config
- hosts:
  - tag_project_cloud
  - slave
  roles:
    - docker
    - ssh-keys
    - kubelet
  become: true

- hosts:
  - tag_project_cloud
  roles:
    - kubeadm-master
    - cloudflare-dns
  become: true

- hosts:
  - tag_project_cloud
  roles:
    - kubernetes-users

- hosts:
  - slave
  roles:
    - kubeadm-slave

# Extra services
- hosts:
  - tag_project_cloud
  roles:
  - kubernetes-services
  - sealed-secrets
